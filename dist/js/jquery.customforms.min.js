!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery"),require("jquery.maskedinput/src/jquery.maskedinput")):e(jQuery)}(function(H,e){"use strict";var P={customSelect:!0,customCheckbox:!0,useMask:!0,keyMapping:!0,validation:!0,errorContainer:"span.error",stepForm:{active:!1,dynamicValidation:!0,slideToTop:!0,stepSelector:".step",nextSelector:".next-step",prevSelector:".prev-step",dynamicHeight:!1,onNextStep:function(e,t,a,o){},onPrevStep:function(e,t,a,o){},onStepValidation:function(e,t,a,o){}},fileUpload:{active:!1,containerSelector:".upload_container",listSelector:".list_of_files",browseSelector:".add_next_file",apiUrl:"",onFileAdded:function(e,t){},onFileDeleted:function(e,t){}},onSubmit:function(e,t){},onInputValidation:function(e,t,a){},onFormValidation:function(e,t){},onInit:function(e){}};return H.fn.customForm=function(e){function o(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<7;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}function u(e){return!isNaN(e)&&""!==e}function f(e,t){var a="000000000"+e;return a.substr(a.length-t)}function r(e){e.preventDefault();var t=H(this).parent().parent().find("input"),a=t.val(),o=t.data("max"),i=t.data("min"),r=t.data("step"),n=t.data("decimal"),s=t.data("decimal-places");if(a=!0===n?parseFloat(a):parseInt(a),!u(r))if(!0===n)if(r=.1,u(s)){var l="0."+f(1,s);r=parseFloat(l)}else r=.1;else r=1;if(!0!==n||u(s)||(s=1),isNaN(a)?a=u(i)?i:0:(a=(a+=r).toFixed(s),u(o)&&o<a&&(a=o),u(i)&&a<i&&(a=i)),t.val(a),V(e,t),x.stepForm.active&&x.stepForm.dynamicValidation){var d=t.closest(x.stepForm.stepSelector);I(d)}}function n(e){e.preventDefault();var t=H(this).parent().parent().find("input"),a=t.val(),o=t.data("max"),i=t.data("min"),r=t.data("step"),n=t.data("decimal"),s=t.data("decimal-places");if(a=!0===n?parseFloat(a):parseInt(a),!u(r))if(!0===n)if(r=.1,u(s)){var l="0."+f(1,s);r=parseFloat(l)}else r=.1;else r=1;if(!0!==n||u(s)||(s=1),isNaN(a)?a=u(o)?o:0:(a=(a-=r).toFixed(s),u(o)&&o<a&&(a=o),u(i)&&a<i&&(a=i)),t.val(a),V(e,t),x.stepForm.active&&x.stepForm.dynamicValidation){var d=t.closest(x.stepForm.stepSelector);I(d)}}function i(e){var h=!0;return H.each(e,function(){var s,e=H(this).prop("tagName").toLowerCase();"input"!=e&&"textarea"!=e?0==(s=H(this).find("input")).length&&(s=H(this).find("textarea")):s=H(this);var t,a,o,l=s.val();o="textarea"!=s.prop("tagName").toLowerCase()?"text"==(a=s.attr("type"))||"email"==a?(t=s.attr("data-validation"),s):(t=H(this).attr("data-validation"),H(this)):(a="text",t=s.attr("data-validation"),s);var i=t.split(/\s/),r=H(this).next(".error__tooltip");if(0<i.length){var d=!0,c="";if("checkbox"!=a)H.each(i,function(e,t){var a=!0;switch(t){case"required":(a=T(l))||(c="required");break;case"phone":(a=N(l))||(c="phone");break;case"email":(a=z(l))||(c="email");break;case"alphanumeric":(a=j(l))||(c="alphanumeric");break;case"post":(a=$(l))||(c="post");break;case"numeric":var o=s.data("max"),i=s.data("min"),r=s.data("decimal"),n=s.data("decimal-places");(a=M(l,o,i,r,n))||(c="numeric");break;default:a=!0}if(!a)return d=!1});else{var n=H(this).attr("name");if(void 0!==n){var u=!1,f=g.find('[name="'+n+'"]');H.each(f,function(){H(this).is(":checked")&&(u=!0)}),d=u}else d=H(this).is(":checked")}if(d)"-1"==H.inArray("required",i)&&0==l.length?(H(this).addClass("not-required"),H(this).removeClass("validation-ok")):H(this).addClass("validation-ok"),H(this).removeClass("validation-error"),r.text("");else{h=!1,H(this).removeClass("validation-ok"),H(this).addClass("validation-error");var p=void 0!==o.attr("data-error-"+c)?o.attr("data-error-"+c):_[c];r.text(p)}}}),h}var g,x,t=null,a=0,s=null,l=0,d=0,c=null,p=null,h=!1,m=null,v=null,F=null,_={required:"Field is required",phone:"Field can only have numeric characters and has to be 9 digits long",email:"Invalid email address",alphanumeric:"Field can only have alphanumeric characters",post:"Field can only have numeric characters and has to be 5 digits long",numeric:"Field can only have numeric characters",default:"Field is invalid"},C=function(e){e.preventDefault();var t=H(this).parent(),a=H(this),o=t.find('input[type="hidden"]'),i=t.hasClass("type-checkbox")?"checkbox":"radio",r=a.attr("data-value");if(a.hasClass("checked")){if("checkbox"==i){if(a.removeClass("checked"),""!=(s=o.attr("value"))){var n=(s=s.split(",")).indexOf(r);-1<n&&s.splice(n,1),s=s.join(",")}o.attr("value",s),o.trigger("change")}}else{var s;if("radio"==i)t.find(".cf-form__checkbox").removeClass("checked");if(a.addClass("checked"),"radio"==i)o.attr("value",r);else s=""!=(s=o.attr("value"))?((s=s.split(",")).push(r),s.join(",")):r,o.attr("value",s);o.trigger("change")}},k=function(e){var t=H(this).parent(),a=H(this),o=t.find(".cf-form__checkbox"),i=t.data("current");if(H(o[0]).is(":focus")&&(i=0),38!=e.keyCode&&40!=e.keyCode||(console.log(i),i=38==e.keyCode?-1==i?o.length-1:0==i?i:i-1:-1==i?0:i==o.length-1?i:i+1,t.data("current",i),console.log(i),H(o[i]).focus()),32==e.keyCode){e.preventDefault();var r=t.find('input[type="hidden"]'),n=t.hasClass("type-checkbox")?"checkbox":"radio",s=a.attr("data-value");if(a.hasClass("checked")){if("checkbox"==n){if(a.removeClass("checked"),""!=(d=r.attr("value"))){var l=(d=d.split(",")).indexOf(s);-1<l&&d.splice(l,1),d=d.join(",")}r.attr("value",d),r.trigger("change")}}else{var d;if("radio"==n)t.find(".cf-form__checkbox").removeClass("checked");if(a.addClass("checked"),"radio"==n)r.attr("value",s);else d=""!=(d=r.attr("value"))?((d=d.split(",")).push(s),d.join(",")):s,r.attr("value",d);r.trigger("change")}}},b=function(e){e.preventDefault();var t=H(this).attr("data-value"),a=H(this).html(),o=H(this).parent().parent(),i=o.find(".cf-form__select-option");""!=t?o.addClass("selected"):o.removeClass("selected"),i.removeClass("highlight"),H(this).addClass("highlight"),o.find("a").find("span").html(a),o.find('input[type="hidden"]').val(t).trigger("change")},y=function(e){e.preventDefault(),D(H(this))},D=function(e){var t=e.find("ul");if(e.hasClass("cs-form__select-opened"))t.css({bottom:"0px"}),e.removeClass("cs-form__select-opened");else{var a=0;t.find("li").each(function(){a+=H(this).outerHeight(!0)}),t.css({bottom:"-"+a+"px"}),e.addClass("cs-form__select-opened")}},S=function(e){e.preventDefault(),H(this).find("ul").css({bottom:"0px"}),H(this).removeClass("cs-form__select-opened")},w=function(e){var t=event.which;if([8,9,38,40,48,49,50,51,52,53,54,55,56,57,107,109,189,190].indexOf(t)<0)e.preventDefault();else{var a=H(this),o=a.data("max"),i=a.data("min"),r=a.data("step"),n=a.data("decimal"),s=a.data("decimal-places");if(d=!0===n?parseFloat(d):parseInt(d),!u(r))if(!0===n)if(r=.1,u(s)){var l="0."+f(1,s);r=parseFloat(l)}else r=.1;else r=1;!0!==n||u(s)||(s=1),38==e.keyCode||107==e.keyCode?isNaN(d)?d=u(i)?i:0:(d=(d+=r).toFixed(s),u(o)&&o<d&&(d=o),u(i)&&d<i&&(d=i)):40!=e.keyCode&&109!=e.keyCode||(isNaN(d)?d=u(o)?o:0:(d=(d-=r).toFixed(s),u(o)&&o<d&&(d=o),u(i)&&d<i&&(d=i)));var d=a.val();if(a.val(d),V(e,a),x.stepForm.active&&x.stepForm.dynamicValidation){var c=a.closest(x.stepForm.stepSelector);I(c)}}},U=function(e){var t=H(this).find(".cf-form__select-option"),a=H(this).find("ul"),o=H(this).data("current");if(32===e.keyCode)H(this).hasClass("cs-form__select-opened")?(a.css({bottom:"0px"}),H(this).removeClass("cs-form__select-opened")):D(H(this));else if(38==e.keyCode||40==e.keyCode){o=38==e.keyCode?-1==o?t.length-1:0==o?o:o-1:-1==o?0:o==t.length-1?o:o+1,H(this).data("current",o);var i=H(t[o]).attr("data-value"),r=H(t[o]).html();""!=i?H(this).addClass("selected"):H(this).removeClass("selected"),H(this).find("a").find("span").html(r),H(this).find('input[type="hidden"]').val(i).trigger("change"),H(t).removeClass("highlight"),H(t[o]).addClass("highlight")}else if(9==e.keyCode||13==e.keyCode)if(13==e.keyCode&&e.preventDefault(),H(this).hasClass("cs-form__select-opened")){if(a.is(":hover")){var n=H(e.currentTarget).find(".cf-form__select-option:hover");i=n.attr("data-value"),r=n.html();H(this).addClass("selected"),H(t).removeClass("highlight"),n.addClass("highlight"),H(this).find("a").find("span").html(r),H(this).find('input[type="hidden"]').val(i).trigger("change")}a.css({bottom:"0px"}),H(this).removeClass("cs-form__select-opened")}else 13==e.keyCode&&D(H(this))},A=function(e){e.preventDefault();var t=!0,a=H(this).closest(x.stepForm.stepSelector);if(x.validation&&(t=I(a)),t){l++;var o=parseFloat(l)*d;if(x.stepForm.dynamicHeight){var i=g.find('[form-step="'+l+'"]'),r=i.attr("form-height");i.css({height:r}),H.each(s,function(){H(this).attr("form-step")!=l&&H(this).css({height:r})})}c.css({transform:"translate(-"+o+"%, 0)"}),x.stepForm.slideToTop&&H("body").scrollTo(g.offset().top-180,500),x.fileUpload.active&&p.refresh(),x.stepForm.onNextStep(g,a,l-1,l)}},q=function(e){e.preventDefault();var t=H(this).closest(x.stepForm.stepSelector);if(l--,x.stepForm.dynamicHeight){var a=g.find('[form-step="'+l+'"]'),o=a.attr("form-height");a.css({height:o}),H.each(s,function(){H(this).attr("form-step")!=l&&H(this).css({height:o})})}c.css({transform:"translate(-"+parseFloat(l)*d+"%, 0)"}),x.stepForm.slideToTop&&H("body").scrollTo(g.offset().top-180,500),x.stepForm.onPrevStep(g,t,l+1,l)},V=function(e,s){var t=s.closest(".custom-form-validated");0==t.length&&(t=s);var a=s.attr("type");if(-1!=H.inArray(a,["text","hidden","email"])){var o,i,l=s.val();i="text"==a||"email"==a?(o=s.attr("data-validation"),s):(o=t.attr("data-validation"),t);var r=o.split(/\s/);if(0<r.length){var d=!0,c="";H.each(r,function(e,t){var a=!0;switch(t){case"required":(a=T(l))||(c="required");break;case"phone":(a=N(l))||(c="phone");break;case"email":(a=z(l))||(c="email");break;case"alphanumeric":(a=j(l))||(c="alphanumeric");break;case"post":(a=$(l))||(c="post");break;case"numeric":var o=s.data("max"),i=s.data("min"),r=s.data("decimal"),n=s.data("decimal-places");(a=M(l,o,i,r,n))||(c="numeric");break;default:a=!0}if(!a)return d=!1});var n=t.next(".error__tooltip");if(d)"-1"==H.inArray("required",r)&&0==l.length?(t.addClass("not-required"),t.removeClass("validation-ok")):t.addClass("validation-ok"),t.removeClass("validation-error"),n.text("");else{t.removeClass("validation-ok"),t.addClass("validation-error");var u=void 0!==i.attr("data-error-"+c)?i.attr("data-error-"+c):_[c];n.text(u)}x.onInputValidation(g,s,d)}}},E=function(e,t){var a=t.closest(".custom-form-validated");0==a.length&&(a=t);var o=t.val(),i=t.attr("data-validation").split(/\s/);if(0<i.length){var r=!0,n="";H.each(i,function(e,t){var a=!0;switch(t){case"required":(a=T(o))||(n="required");break;default:a=!0}if(!a)return r=!1});var s=a.next(".error__tooltip");if(r)"-1"==H.inArray("required",i)&&0==o.length?(a.addClass("not-required"),a.removeClass("validation-ok")):a.addClass("validation-ok"),a.removeClass("validation-error"),s.text("");else{a.removeClass("validation-ok"),a.addClass("validation-error");var l=void 0!==t.attr("data-error-"+n)?t.attr("data-error-"+n):_[n];s.text(l)}x.onInputValidation(g,t,r)}},I=function(e){var t=e.find(".custom-form-validated"),a=i(t);return x.stepForm.onStepValidation(g,e,l,a),a},T=function(e){return e.match(/^.+$/)},N=function(e){return""==e||(e=e.replace(/(\-|\s)/gi,"")).match(/^[0-9]{9}$/)},z=function(e){return""==e||e.match(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/)},j=function(e){return""==e||e.match(/^([A-ZĘÓĄŚŁŻŹĆŃa-zęóąśłżźćń0-9\s\-\/\.]+)$/)},$=function(e){return""==e||(e=e.replace(/(\-|\s)/gi,"")).match(/^[0-9]{5}$/)},M=function(e,t,a,o,i){if(""==e)return!0;if(u(t)&&t<e)return!1;if(u(a)&&e<a)return!1;if(!0!==o)return e.match(/^[-]{0,1}[1-9]{1}[0-9]*$|^0$/gi);var r="+";u(i)&&(r="{1,"+i+"}");var n=new RegExp("^[-]{0,1}[1-9]{1}[0-9]*([.]{1}[0-9]"+r+"){0,1}$|^0$|^[-]{0,1}0[.]{1}[0-9]"+r+"$","gi");return e.match(n)};if(0<this.length)return 1<this.length?this.each(function(){H(this).customForm(e)}):(function(e){if("boolean"==typeof(x=H.extend({},P,e)).stepForm){var t=x.stepForm;x.stepForm={active:t,dynamicValidation:!0,slideToTop:!0,stepSelector:".step",nextSelector:".next-step",prevSelector:".prev-step",dynamicHeight:!1,onNextStep:function(e,t,a,o){},onPrevStep:function(e,t,a,o){},onStepValidation:function(e,t,a,o){}}}else x.stepForm=H.extend({},P.stepForm,x.stepForm);if("boolean"==typeof x.fileUpload){var a=x.fileUpload;x.fileUpload={active:a,containerSelector:".upload_container",listSelector:".list_of_files",browseSelector:".add_next_file",apiUrl:"",onFileAdded:function(e,t){},onFileDeleted:function(e,t){}}}else x.fileUpload=H.extend({},P.fileUpload,x.fileUpload)}(e),g=this,function(){g.addClass("cf-form"),t=g.find("input, select, textarea");var e=g.find('[type="submit"]');e.addClass("cf-form__submit"),e.on("focusin",function(e){H(this).css("box-shadow","0 0 5px rgba(81, 203, 238, 1)")}),e.on("focusout",function(e){H(this).css("box-shadow","none")}),H.each(t,function(){var e=H(this),t=e.prop("tagName").toLowerCase(),a="input"==t?e.attr("type"):"not-needed";x.validation&&(e.removeAttr("required"),e.attr("autocomplete","off")),"select"==t&&x.customSelect&&function(e){e.wrap('<div class="cf-form__select" style="position: relative;"></div>');var t=e.attr("name"),a=e.find("option"),o=e.parent(),i=H("<input/>").attr("type","hidden").attr("name",t).attr("value",""),r=e.attr("placeholder");void 0===r&&(r="Wybierz");var n=H('<a class="cf-form__select-placeholder"></a>').attr("href","").append(H("<span></span>").html(r)).on("click",function(e){e.preventDefault()}),s=H('<ul class="cf-form__select-options" style="position: absolute; bottom: 0; top: 100%;"></ul>');if(o.data("current",-1),H.each(a,function(){var e=H(this).attr("value"),t=H(this).html(),a=H('<li class="cf-form__select-option"></li>').attr("data-value",e).html(t).on("click",b);s.append(a)}),o.append(n).append(s).append(i),o.on("click",y),o.on("keydown",U),o.on("mouseleave",S),n.on("focusin",function(e){o.css("box-shadow","0 0 5px rgba(81, 203, 238, 1)")}),n.on("focusout",function(e){o.css("box-shadow","none")}),x.validation){var l=e.attr("data-validation"),d=e.attr("data-error-required"),c=e.attr("data-error-phone"),u=e.attr("data-error-email"),f=e.attr("data-error-alphanumeric"),p=e.attr("data-error-post"),h=e.attr("data-error-numeric");"undefined"!=l&&(o.attr("data-validation",l),o.addClass("custom-form-validated"),void 0!==d&&o.attr("data-error-required",d),void 0!==c&&o.attr("data-error-phone",d),void 0!==u&&o.attr("data-error-email",d),void 0!==f&&o.attr("data-error-alphanumeric",d),void 0!==p&&o.attr("data-error-post",d),void 0!==h&&o.attr("data-error-numeric",d),i.on("change",function(e){if(V(e,H(this)),x.stepForm.active&&x.stepForm.dynamicValidation){var t=H(this).closest(x.stepForm.stepSelector);I(t)}}))}var m=H("<div/>",{class:"error__tooltip"});o.after(m),e.remove()}(e),"input"!=t||"checkbox"!=a&&"radio"!=a||!x.customCheckbox||function(e){var t=e.attr("data-checkbox-type"),a=e.attr("data-checkbox-group"),o=e.attr("type");if(void 0===t&&(t="normal"),void 0===a&&(a=null),"box"==t){var i,r,n=g.find('label[for="'+e.attr("id")+'"]');if(a){var s=g.find('[data-group="'+a+'"]');if(0==s.length){e.wrap('<div class="cf-form__checkbox-group type-'+o+'" data-group="'+a+'"></div>'),i=e.parent();var l=H("<div/>",{class:"error__tooltip"});i.after(l)}else i=s;r=a}else{e.wrap('<div class="cf-form__checkbox-group type-'+o+'"></div>'),i=e.parent(),r=e.attr("name");l=H("<div/>",{class:"error__tooltip"});i.after(l)}var d=H("<a></a>").addClass("cf-form__checkbox").attr("href","").attr("data-value",e.val()).html(n.html()).on("click",C).on("keydown",k),c=H("<input/>").attr("type","hidden").attr("name",r).attr("value","");if(d.on("focusin",function(e){H(this).css("box-shadow","0 0 5px rgba(81, 203, 238, 1)")}),d.on("focusout",function(e){H(this).css("box-shadow","none")}),i.append(d),0==i.find('input[type="hidden"]').length&&i.append(c),x.validation){var u=e.attr("data-validation"),f=e.attr("data-error-required"),p=e.attr("data-error-phone"),h=e.attr("data-error-email"),m=e.attr("data-error-alphanumeric"),v=e.attr("data-error-post"),F=e.attr("data-error-numeric");void 0!==u&&(i.attr("data-validation",u),i.addClass("custom-form-validated"),void 0!==f&&i.attr("data-error-required",f),void 0!==p&&i.attr("data-error-phone",f),void 0!==h&&i.attr("data-error-email",f),void 0!==m&&i.attr("data-error-alphanumeric",f),void 0!==v&&i.attr("data-error-post",f),void 0!==F&&i.attr("data-error-numeric",f),c.on("change",function(e){if(V(e,H(this)),x.stepForm.active&&x.stepForm.dynamicValidation){var t=H(this).closest(x.stepForm.stepSelector);I(t)}}))}i.data("current",-1),e.remove(),n.remove()}else{if(x.validation)void 0!==(u=e.attr("data-validation"))&&(e.addClass("custom-form-validated"),e.on("change",function(){var e=H(this).attr("name"),t=!0;if(void 0!==e){var a=!1,o=g.find('[name="'+e+'"]');H.each(o,function(){H(this).is(":checked")&&(a=!0)}),t=a}else t=H(this).is(":checked");if(t?(H(this).addClass("validation-ok"),H(this).removeClass("validation-error")):(H(this).removeClass("validation-ok"),H(this).addClass("validation-error")),x.stepForm.active&&x.stepForm.dynamicValidation){var i=H(this).closest(x.stepForm.stepSelector);I(i)}}))}}(e),x.validation&&"input"==t&&-1!=H.inArray(a,["text","email","number"])&&("number"!==a&&"email"!==a||e.attr("type","text"),function(e){var t=e.attr("data-validation");if(void 0!==t){e.wrap('<div class="cf-form__input-group custom-form-validated"></div>'),e.addClass("cf-form__input");var a,o=e.parent();a=t.split(/\s/),e.parent().on("focusin",function(e){H(this).css("box-shadow","0 0 5px rgba(81, 203, 238, 1)")}),e.parent().on("focusout",function(e){H(this).css("box-shadow","none")}),0<a.length&&(o.append(H("<span></span>").addClass("cf-form__addon cf-form__addon--validate")),-1!=H.inArray("phone",a)&&(o.prepend(H("<span></span>").addClass("cf-form__addon cf-form__addon--prefix").html("+48")),x.useMask&&e.mask("999-999-999")),-1!=H.inArray("post",a)&&x.useMask&&e.mask("99-999"),-1!=H.inArray("numeric",a)&&(o.prepend(H("<span></span>").addClass("cf-form__addon cf-form__addon--prefix").append(H("<a></a>").addClass("cf-form__numeric-button cf-form__numeric-button--up").on("click",r)).append(H("<a></a>").addClass("cf-form__numeric-button cf-form__numeric-button--down").on("click",n))),e.on("keydown",w)),e.on("change, focusout",function(e){if(V(e,H(this)),x.stepForm.active&&x.stepForm.dynamicValidation){var t=H(this).closest(x.stepForm.stepSelector);I(t)}}),e.on("keyup",function(e){if(V(e,H(this)),x.stepForm.active&&x.stepForm.dynamicValidation){var t=H(this).closest(x.stepForm.stepSelector);I(t)}}));var i=H("<div/>",{class:"error__tooltip"});o.after(i)}}(e)),x.validation&&"textarea"==t&&function(e){var t=e.attr("data-validation");if(void 0!==t){e.wrap('<div class="cf-form__input-group custom-form-validated"></div>'),e.addClass("cf-form__textarea");var a,o=e.parent();a=t.split(/\s/),e.parent().on("focusin",function(e){H(this).css("box-shadow","0 0 5px rgba(81, 203, 238, 1)")}),e.parent().on("focusout",function(e){H(this).css("box-shadow","none")}),0<a.length&&(o.append(H("<span></span>").addClass("cf-form__addon cf-form__addon--validate")),e.on("change, focusout",function(e){if(E(e,H(this)),x.stepForm.active&&x.stepForm.dynamicValidation){var t=H(this).closest(x.stepForm.stepSelector);I(t)}}),e.on("keyup",function(e){if(E(e,H(this)),x.stepForm.active&&x.stepForm.dynamicValidation){var t=H(this).closest(x.stepForm.stepSelector);I(t)}}));var i=H("<div/>",{class:"error__tooltip"});o.after(i)}}(e)}),x.stepForm.active&&function(){s=g.find(x.stepForm.stepSelector),a=s.length,d=100/parseFloat(a),g.addClass("step-form-wrap").css({overflow:"hidden",width:"100%"});var e=H("<div></div>").addClass("step-form").css({width:100*a+"%",display:"block",transform:"translate(0, 0)",transition:"600ms"});s.wrapAll(e),c=g.find(".step-form"),H.each(s,function(){H(this).css({width:d+"%",display:"block",float:"left"})}),g.find(x.stepForm.nextSelector).on("click",A),g.find(x.stepForm.prevSelector).on("click",q)}(),x.fileUpload.active&&function(){var e=g.find(x.fileUpload.containerSelector),t=e.find(x.fileUpload.listSelector),a=e.find(x.fileUpload.browseSelector);m="fucont-"+o(),v="fuadd-"+o(),F="fulist-"+o(),e.attr("id",m).addClass("cf-form__upload-container"),t.attr("id",F).addClass("cf-form__files"),a.attr("id",v).addClass("cf-form__upload-button"),a.on("focusin",function(e){H(this).css("box-shadow","0 0 5px rgba(81, 203, 238, 1)")}),a.on("focusout",function(e){H(this).css("box-shadow","none")}),(p=new plupload.Uploader({runtimes:"html5,flash,silverlight,html4",browse_button:v,container:document.getElementById(m),url:x.fileUpload.apiUrl,flash_swf_url:"/assets/js/Moxie.swf",silverlight_xap_url:"/assets/js/Moxie.xap",filters:{max_file_size:"10mb",mime_types:[{title:"Image files",extensions:"jpg,gif,png"},{title:"Zip files",extensions:"zip"},{title:"Documents",extensions:"pdf"}]},preinit:{Init:function(e,t){console.log("[Init]",t)},UploadFile:function(e,t){console.log("[UploadFile]",t)}},init:{PostInit:function(){console.log("[PostInit]"),document.getElementById(F).innerHTML=""},Browse:function(e){console.log("[Browse]")},Refresh:function(e){console.log("[Refresh]")},StateChanged:function(e){console.log("[StateChanged]",e.state==plupload.STARTED?"STARTED":"STOPPED")},QueueChanged:function(e){console.log("[QueueChanged]")},OptionChanged:function(e,t,a,o){console.log("[OptionChanged]","Option Name: ",t,"Value: ",a,"Old Value: ",o)},BeforeUpload:function(e,t){console.log("[BeforeUpload]","File: ",t)},UploadProgress:function(e,t){console.log("[UploadProgress]","File:",t,"Total:",e.total)},FileFiltered:function(e,t){console.log("[FileFiltered]","File:",t)},FilesAdded:function(e,t){console.log("[FilesAdded]"),plupload.each(t,function(e){document.getElementById(F).innerHTML+='<li id="'+e.id+'" class="cf-form__file"><input type="hidden" value="'+e.name+'" name="files[]" /><span>'+e.name+'</span><button data-id="'+e.id+'" class="cf-form__file-remove remove"></button></li>'}),x.fileUpload.onFileAdded(g,t)},FilesRemoved:function(e,t){console.log("[FilesRemoved]")},FileUploaded:function(e,t,a){console.log("[FileUploaded] File:",t,"Info:",a)},ChunkUploaded:function(e,t,a){console.log("[ChunkUploaded] File:",t,"Info:",a)},UploadComplete:function(e,t){console.log("[UploadComplete]"),h=!0,g.submit()},Destroy:function(e){console.log("[Destroy]")},Error:function(e,t){console.log(t,e)}}})).init(),t.on("click","button.remove",function(e){e.preventDefault();var t=H(this).attr("data-id");p.removeFile(p.getFile(t)),H("#"+t).remove(),x.fileUpload.onFileDeleted(g,p.getFile(t))})}(),g.on("submit",function(e){var t=!0;x.validation&&(t=function(){var e=g.find(".custom-form-validated"),t=i(e);return x.onFormValidation(g,t),t}()),t?x.fileUpload.active&&0==h?(e.preventDefault(),p.start()):x.onSubmit(e,g):(e.preventDefault(),console.log("zle!"))}),x.onInit()}(),H(window).on("load",function(){var e=g.find(x.stepForm.stepSelector);if(H.each(e,function(){var e=H(this).outerHeight();H(this).attr("form-height",e)}),x.stepForm.dynamicHeight){var t=g.find('[form-step="0"]').attr("form-height");H.each(e,function(){0!=H(this).attr("form-step")&&H(this).css({height:t})})}}),g)},function(e){return H(window).customForm(e)}});